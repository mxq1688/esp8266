# ESP-IDF ESP8266 快速开始指南

## 1. 环境准备

### 安装ESP8266_RTOS_SDK
```bash
# 克隆ESP8266_RTOS_SDK
git clone --recursive https://github.com/espressif/ESP8266_RTOS_SDK.git
cd ESP8266_RTOS_SDK

# 安装依赖
./install.sh

# 设置环境变量
source export.sh
```

### 安装必要工具
- Python 3.7+
- CMake 3.16+
- Git

## 2. 项目结构
```
esp-idf/
├── examples/              # 示例项目
│   ├── wifi_station/     # WiFi连接示例
│   └── gpio_control/     # GPIO控制示例
├── sdkconfig.defaults    # 默认配置
├── build.sh             # 构建脚本
├── setup_env.sh         # 环境设置脚本
└── README.md            # 详细文档
```

## 3. 快速开始

### 步骤1: 设置环境
```bash
cd esp-idf
source setup_env.sh
```

### 步骤2: 选择示例项目
```bash
# WiFi连接示例
cd examples/wifi_station

# 或GPIO控制示例
cd examples/gpio_control
```

### 步骤3: 配置项目
```bash
# 编辑WiFi配置
vim main/main.c
# 修改WiFi SSID和密码

# 或使用图形配置
idf.py menuconfig
```

### 步骤4: 构建项目
```bash
# 设置目标芯片
idf.py set-target esp8266

# 构建
idf.py build
```

### 步骤5: 烧录固件
```bash
# 烧录到设备
idf.py -p /dev/ttyUSB0 flash

# 监控输出
idf.py -p /dev/ttyUSB0 monitor
```

## 4. 使用构建脚本

### 一键构建和烧录
```bash
# 构建wifi_station项目
./build.sh wifi_station /dev/ttyUSB0

# 构建gpio_control项目
./build.sh gpio_control /dev/ttyUSB0
```

## 5. 常用命令

```bash
# 清理编译
idf.py clean

# 全量清理
idf.py fullclean

# 查看分区表
idf.py partition-table

# 查看帮助
idf.py --help
```

## 6. 调试技巧

### 串口监控
```bash
# 启动监控
idf.py monitor

# 退出监控: Ctrl+]
```

### 日志级别
```c
// 在代码中设置日志级别
esp_log_level_set("*", ESP_LOG_INFO);
```

## 7. 常见问题

### 烧录失败
- 检查串口权限
- 确认设备连接
- 检查波特率设置

### 编译错误
- 检查ESP-IDF版本
- 确认依赖库安装
- 查看错误日志

### WiFi连接失败
- 检查SSID和密码
- 确认WiFi信号强度
- 检查网络配置

## 8. 下一步

- 阅读ESP-IDF官方文档
- 尝试更多示例项目
- 开发自定义组件
- 集成传感器和显示屏
